{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nimport { Validators } from \"@angular/forms\";\nlet UpdatePassengerComponent = class UpdatePassengerComponent {\n  constructor(router, route, formBuilder, userService) {\n    this.router = router;\n    this.route = route;\n    this.formBuilder = formBuilder;\n    this.userService = userService;\n    this.user = null;\n    this.userId = null;\n    this.passengerId = null;\n    this.passengerForm = this.formBuilder.group({\n      name: [null, Validators.required],\n      age: [null, [Validators.required, Validators.min(1), Validators.max(100)]],\n      luggage: [null, [Validators.required, Validators.min(0), Validators.max(15)]]\n    });\n  }\n\n  ngOnInit() {\n    this.userId = localStorage.getItem(\"userId\");\n\n    if (this.userId == null) {\n      this.router.navigate([\"/error\", \"login to continue\"]);\n    } else {\n      this.userId = parseInt(this.userId);\n      this.userService.getUser(this.userId).subscribe(data => {\n        this.user = data;\n      }, error => {\n        this.router.navigate([\"/error\", \"not logged in, login to continue\"]);\n      });\n      this.route.paramMap.subscribe(params => {\n        this.passengerId = params.get(\"passengerId\");\n      });\n    }\n  }\n\n  logout() {\n    localStorage.removeItem(\"userId\");\n    this.router.navigate([\"/userLogin\"]);\n  }\n\n  submit() {\n    let data = this.passengerForm.value;\n\n    if (this.passengerId == null) {\n      this.router.navigate([\"/error\", \"passenger id not provided\"]);\n    } else {\n      data.passengerId = parseInt(this.passengerId);\n      this.userService.updatePassenger(data).subscribe(data => {\n        this.router.navigate([\"/userHome\"]);\n      }, error => {\n        this.router.navigate([\"/error\", \"unable to update passenger\"]);\n      });\n    }\n  }\n\n};\nUpdatePassengerComponent = __decorate([Component({\n  selector: \"app-update-passenger\",\n  templateUrl: \"./update-passenger.component.html\",\n  styleUrls: [\"./update-passenger.component.css\"]\n})], UpdatePassengerComponent);\nexport { UpdatePassengerComponent };","map":null,"metadata":{},"sourceType":"module"}